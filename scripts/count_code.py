# -*- coding: utf-8 -*-

"""
Measured on 2025-09-25

Number of service: 412
Total: 2113251 lines
Total Size: 59.62 MB
- ec2                             96090
- quicksight                      66691
- sagemaker                       58334
- securityhub                     46457
- glue                            36098
- connect                         31840
- iot                             26684
- datazone                        23970
- medialive                       23366
- cloudfront                      19329
- lexv2_models                    18893
- ssm                             18757
- rds                             18532
- bedrock                         16710
- pinpoint                        16439
- bedrock_agent                   16006
- s3                              15884
- lightsail                       15720
- iotsitewise                     14185
- cleanrooms                      13904
- redshift                        13752
- dms                             13318
- iam                             13252
- qconnect                        13201
- guardduty                       12769
- deadline                        12717
- inspector2                      12433
- config                          12126
- kendra                          12053
- mediaconvert                    11952
- gamelift                        11763
- s3control                       11698
- qbusiness                       11457
- bedrock_agent_runtime           10912
- iotwireless                     10689
- omics                           10569
- comprehend                      10366
- cognito_idp                     10342
- rekognition                     10315
- customer_profiles               10269
- macie2                          10246
- imagebuilder                    10224
- ecs                             10154
- opensearch                      10045
- dynamodb                         9880
- cloudformation                   9718
- wafv2                            9606
- sesv2                            9444
- networkmanager                   9294
- appmesh                          9231
- pinpoint_sms_voice_v2            9180
- backup                           9137
- logs                             9068
- proton                           9044
- fsx                              8969
- elasticache                      8683
- workspaces                       8552
- greengrass                       8409
- servicecatalog                   8296
- clouddirectory                   8261
- emr                              8211
- storagegateway                   8193
- eks                              8136
- bedrock_agentcore_control        8047
- ce                               7995
- personalize                      7906
- network_firewall                 7861
- apigateway                       7787
- chime_sdk_voice                  7754
- batch                            7665
- iot_managed_integrations         7625
- cleanroomsml                     7587
- autoscaling                      7546
- neptune                          7462
- codecommit                       7368
- codebuild                        7307
- codepipeline                     7305
- appflow                          7228
- waf                              7205
- lambda                           7201
- devicefarm                       7161
- kinesisanalyticsv2               7142
- transfer                         7120
- appsync                          7103
- geo_routes                       7045
- forecast                         7035
- iotfleetwise                     7032
- mediaconnect                     7021
- kafka                            7015
- mailmanager                      6930
- sso_admin                        6866
- waf_regional                     6826
- resiliencehub                    6732
- mgn                              6697
- es                               6693
- appstream                        6636
- vpc_lattice                      6614
- fms                              6538
- events                           6466
- wellarchitected                  6397
- athena                           6395
- ds                               6391
- robomaker                        6387
- compute_optimizer                6378
- apigatewayv2                     6359
- workmail                         6347
- accessanalyzer                   6263
- route53                          6257
- location                         6236
- route53resolver                  6222
- amplifyuibuilder                 6109
- devops_guru                      6064
- swf                              5971
- workspaces_web                   5920
- docdb                            5895
- frauddetector                    5871
- auditmanager                     5770
- elbv2                            5762
- firehose                         5746
- redshift_serverless              5727
- mediatailor                      5635
- lakeformation                    5585
- drs                              5571
- chime_sdk_media_pipelines        5550
- ecr                              5522
- bedrock_runtime                  5480
- codedeploy                       5420
- bcm_pricing_calculator           5360
- databrew                         5305
- iottwinmaker                     5259
- partnercentral_selling           5213
- directconnect                    5104
- cloudtrail                       5089
- dataexchange                     5073
- elasticbeanstalk                 4992
- license_manager                  4964
- xray                             4947
- ses                              4926
- iotanalytics                     4924
- globalaccelerator                4919
- finspace                         4883
- entityresolution                 4786
- codeartifact                     4767
- datasync                         4750
- memorydb                         4749
- organizations                    4725
- stepfunctions                    4672
- connectcases                     4666
- verifiedpermissions              4648
- wisdom                           4645
- cloudwatch                       4636
- fis                              4612
- lookoutequipment                 4579
- transcribe                       4569
- chime_sdk_messaging              4544
- chime                            4527
- apptest                          4410
- odb                              4391
- lex_models                       4328
- pipes                            4320
- m2                               4316
- billingconductor                 4251
- mediapackagev2                   4233
- connectcampaignsv2               4103
- evidently                        4056
- iotevents                        4037
- ivs_realtime                     4034
- lookoutmetrics                   4025
- apprunner                        3995
- amp                              3981
- marketplace_catalog              3953
- groundstation                    3951
- codecatalyst                     3875
- supplychain                      3873
- notifications                    3863
- b2bi                             3848
- opensearchserverless             3780
- workdocs                         3761
- amplifybackend                   3736
- migrationhubstrategy             3731
- kms                              3731
- sagemaker_geospatial             3682
- greengrassv2                     3668
- neptunedata                      3639
- inspector                        3624
- tnb                              3615
- emr_containers                   3607
- pinpoint_email                   3577
- panorama                         3559
- neptune_graph                    3548
- pca_connector_ad                 3526
- arc_region_switch                3524
- qapps                            3518
- ssm_incidents                    3362
- outposts                         3349
- ivs                              3341
- ssm_contacts                     3340
- textract                         3320
- budgets                          3296
- amplify                          3284
- kafkaconnect                     3253
- sns                              3251
- glacier                          3206
- voice_id                         3197
- servicediscovery                 3193
- mturk                            3181
- bedrock_agentcore                3169
- bedrock_data_automation          3122
- ram                              3102
- appconfig                        3094
- migrationhuborchestrator         3075
- snowball                         3046
- finspace_data                    3033
- iotthingsgraph                   3020
- route53domains                   2937
- controltower                     2913
- machinelearning                  2901
- chatbot                          2889
- kinesis                          2886
- discovery                        2861
- payment_cryptography_data        2849
- ssm_sap                          2838
- cost_optimization_hub            2837
- application_signals              2813
- taxsettings                      2804
- route53_recovery_readiness       2804
- geo_places                       2760
- timestream_query                 2759
- securitylake                     2748
- cloudsearch                      2733
- kinesisanalytics                 2731
- managedblockchain                2728
- elb                              2705
- kinesisvideo                     2672
- grafana                          2670
- mediapackage                     2637
- comprehendmedical                2636
- application_autoscaling          2625
- elastictranscoder                2588
- emr_serverless                   2554
- payment_cryptography             2548
- acm_pca                          2532
- chime_sdk_identity               2530
- efs                              2499
- appfabric                        2464
- lookoutvision                    2446
- mq                               2422
- migration_hub_refactor_spaces    2407
- shield                           2406
- keyspaces                        2371
- appintegrations                  2366
- detective                        2346
- resource_groups                  2343
- s3tables                         2338
- mpa                              2327
- application_insights             2304
- schemas                          2303
- route53_recovery_control_config   2275
- socialmessaging                  2253
- timestream_write                 2243
- synthetics                       2233
- gameliftstreams                  2229
- mediapackage_vod                 2221
- servicecatalog_appregistry       2220
- dax                              2216
- license_manager_user_subscriptions   2216
- networkflowmonitor               2189
- osis                             2178
- backup_gateway                   2175
- pcs                              2161
- observabilityadmin               2140
- sqs                              2138
- codeguruprofiler                 2116
- ecr_public                       2104
- medical_imaging                  2093
- lexv2_runtime                    2084
- codeconnections                  2084
- codestar_connections             2081
- workspaces_instances             2073
- rolesanywhere                    2073
- signer                           2071
- security_ir                      2025
- translate                        1992
- resource_explorer_2              1971
- secretsmanager                   1966
- rum                              1965
- health                           1962
- support                          1939
- codeguru_reviewer                1933
- iotevents_data                   1914
- identitystore                    1795
- timestream_influxdb              1784
- connectcampaigns                 1736
- service_quotas                   1723
- backupsearch                     1718
- managedblockchain_query          1712
- cognito_identity                 1701
- braket                           1696
- datapipeline                     1692
- mgh                              1682
- bcm_dashboards                   1675
- trustedadvisor                   1669
- internetmonitor                  1663
- dlm                              1657
- scheduler                        1628
- qldb                             1627
- docdb_elastic                    1597
- evs                              1568
- serverlessrepo                   1541
- cloudhsmv2                       1508
- pi                               1499
- healthlake                       1496
- codeguru_security                1492
- chime_sdk_meetings               1490
- repostspace                      1456
- snow_device_management           1444
- acm                              1437
- invoicing                        1428
- cloudhsm                         1404
- ds_data                          1397
- arc_zonal_shift                  1388
- redshift_data                    1368
- route53profiles                  1363
- cognito_sync                     1361
- ivschat                          1344
- bcm_data_exports                 1343
- workspaces_thin_client           1321
- s3vectors                        1312
- controlcatalog                   1297
- launch_wizard                    1268
- mwaa                             1245
- marketplace_agreement            1221
- iotdeviceadvisor                 1214
- autoscaling_plans                1195
- ssm_quicksetup                   1190
- simspaceweaver                   1170
- mediastore                       1168
- connectparticipant               1151
- codestar_notifications           1147
- oam                              1134
- pca_connector_scep               1066
- savingsplans                     1063
- license_manager_linux_subscriptions   1034
- billing                          1021
- cloud9                            973
- account                           937
- rbin                              933
- networkmonitor                    881
- cloudcontrol                      879
- rds_data                          876
- kinesis_video_archived_media      863
- dsql                              859
- polly                             856
- aiops                             844
- sts                               839
- lex_runtime                       831
- resourcegroupstaggingapi          828
- sdb                               780
- pinpoint_sms_voice                730
- keyspacesstreams                  727
- kendra_ranking                    713
- artifact                          701
- bedrock_data_automation_runtime    701
- iotsecuretunneling                681
- freetier                          672
- pricing                           660
- qldb_session                      630
- iot_data                          619
- s3outposts                        616
- applicationcostprofiler           605
- dynamodbstreams                   597
- support_app                       588
- cur                               570
- cloudfront_keyvaluestore          566
- ebs                               546
- importexport                      535
- iot_jobs_data                     531
- notificationscontacts             528
- iotfleethub                       519
- cloudsearchdomain                 516
- sagemaker_featurestore_runtime    487
- sagemaker_a2i_runtime             482
- meteringmarketplace               479
- sso                               469
- sagemaker_edge                    452
- mediastore_data                   415
- ssm_guiconnect                    398
- personalize_events                397
- sagemaker_runtime                 389
- geo_maps                          381
- route53_recovery_cluster          378
- sso_oidc                          374
- connect_contact_lens              357
- personalize_runtime               354
- migrationhub_config               322
- sagemaker_metrics                 292
- marketplace_deployment            276
- bcm_recommended_actions           273
- marketplace_entitlement           238
- eks_auth                          237
- forecastquery                     227
- apigatewaymanagementapi           225
- kinesis_video_signaling           207
- cloudtrail_data                   201
- workmailmessageflow               195
- appconfigdata                     189
- ec2_instance_connect              185
- marketplacecommerceanalytics      185
- kinesis_video_webrtc_storage      138
- kinesis_video_media               133
- marketplace_reporting             111
- inspector_scan                    103
"""

from pathlib import Path
from pathlib_mate.mate_tool_box import repr_data_size

from boto3_dataclass.paths import path_enum

def count_file(p: Path):
    return len(p.read_text().splitlines())

def count_all():
    dir_repos = path_enum.dir_project_root / "build" / "repos"
    total = 0
    total_size = 0
    pairs: list[tuple[str, int]] = list()
    for dir_package in dir_repos.iterdir():
        if dir_package.is_dir():
            service = dir_package.name.removeprefix("boto3_dataclass_").removesuffix("-project")
            sub_total = 0
            for p in dir_package.rglob("**/*.py"):
                n = count_file(p)
                sub_total += n
                total_size += p.stat().st_size
            pairs.append((service, sub_total))
            total += sub_total
    pairs = sorted(pairs, key=lambda pair: pair[1], reverse=True)
    n_services = len(pairs)
    print(f"Number of service: {n_services}")
    print(f"Total: {total} lines")
    print(f"Total Size: {repr_data_size(total_size)}")
    for service, n in pairs:
        print(f"- {service:30} {n:6}")

count_all()